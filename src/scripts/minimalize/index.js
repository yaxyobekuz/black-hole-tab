import{addShortcutToStorage as e}from"./shortcuts.js";let elShortcuts=document.getElementById("shortcuts"),createShortcutComponent=({icon:e,url:t,name:l})=>{let r=document.createElement("li");r.classList.add("shortcut-item");let a=document.createElement("a");a.setAttribute("href",t),a.classList.add("shortcut-item-inner");let n=document.createElement("span");n.classList.add("shortcut-icon-wrapper");let d=document.createElement("img");d.classList.add("shortcut-icon"),d.setAttribute("width","32"),d.setAttribute("height","32"),d.setAttribute("alt",l),d.setAttribute("src",e);let s=document.createElement("h3");return s.classList.add("shortcut-name"),s.textContent=l,n.appendChild(d),a.appendChild(n),a.appendChild(s),r.appendChild(a),r},renderShortcuts=()=>{elShortcuts.innerHTML="";let e=JSON.parse(localStorage.getItem("shortcuts"))||[];e.forEach(e=>{elShortcuts.appendChild(createShortcutComponent(e))})};renderShortcuts();let elSearchbox=document.querySelector("#searchbox");elSearchbox.addEventListener("submit",e=>{e.preventDefault();let t=e.target.querySelector("#search-input"),l=t?.value?.trim();if(l?.length>0){let r=encodeURIComponent(l);window.location.href=`https://www.google.com/search?q=${r}`}});let elModal=document.getElementById("modal"),elUrlInput=document.getElementById("url-input"),elNameInput=document.getElementById("name-input"),elCancelBtn=document.getElementById("cancel-btn"),elModalForm=document.getElementById("modal-form"),elAddShortcutBtn=document.getElementById("add-shortcut-btn"),closeModal=()=>elModal.classList.add("hidden");elCancelBtn.addEventListener("click",closeModal),elAddShortcutBtn.addEventListener("click",()=>{elModal.classList.remove("hidden")}),elModalForm.addEventListener("submit",t=>{t.preventDefault();let l=elUrlInput.value.trim(),r=elNameInput.value.trim().slice(0,14);if(!l||!r){alert("Iltimos, barcha maydonlarni to'ldiring!");return}e(r,l),renderShortcuts(),elUrlInput.value="",elNameInput.value="",closeModal()});